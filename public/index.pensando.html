<!DOCTYPE html>
<html>
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="nodelog" />
    <meta name="description" content="nodelog, track your website access" />
    <meta name="author" content="Alessandro De Marchi - ademarchi74@gmail.com" />
    <title>nodelog</title>

</head>
<body> 

<div id='log'></div>

<script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
<script src="/socket.io/socket.io.js"></script>
<script>
    $(document).ready(function() { 
        
        var socket = io.connect();

        var messages = [];
        var roster = [];
        var name = 'pensandoit';

        socket.on('connect', function () {
            socket.emit('identify', name);
        });

        socket.on('message', function (msg) {
            messages.push(msg);
            $("#log").prepend('<p> MSG : ' + JSON.stringify(msg) + '</p>');
        });

        socket.on('roster', function (names) {
            roster = names;
            $("#log").prepend('<p> ROSTER : ' + JSON.stringify(roster) + '</p>');
        });

        /*
        var socket = io.connect();
        var room = "pensandoit";
        socket.on('connect', function () {
            socket.emit('room', room);
            $("#log").prepend( '<p>waiting for connection to room ' + room + '</p>');
        });
        socket.on('message', function(data) {
            $("#log").prepend('<p>' + data + '</p>');
        });
        */
    });
</script>

</body>
</html>